var rmxMisc;jQuery(function(){rmxMisc.init()}),function($){"use strict";rmxMisc={init:function(){console.log("Misc JS loaded"),$(".btn-close").click(function(){$(this).closest("[data-js-closeable]").addClass("d-none").removeClass("d-flex")}),rmxMisc.search()},search:function(){var e={_blank:!0,count:10,autoEnter:!0,buttonText:"Let's Go",placeholder:"City and State, Address or Zip Code"};console.log("test"),$(".remax_search").remaxseach(e),console.log("test 2")}}}(jQuery);var rmxGallery;jQuery(function(){rmxGallery.init()}),function($){"use strict";rmxGallery={init:function(){console.log("Gallery JS loaded"),$(".gallery").find("figure").click(function(){if(!$(this).hasClass("active")){var e=$(this),t=e.find("img").clone(),s=e.find("figcaption").clone(),a=$(".gallery").find(".current-photo-details"),n;e.siblings().removeClass("active"),e.addClass("active"),a.addClass("d-flex").removeClass("d-none"),a.find(".js-photo-box").html(t),a.find(".js-photo-details-box").html(s),e.nextAll().each(function(){if(n=$(this),n.position().top>e.position().top)return n.before(a),!1})}})}}}(jQuery);var rmxNav;jQuery(function(){rmxNav.init()}),function($){"use strict";rmxNav={init:function(){console.log("Nav JS loaded"),rmxNav.toggleMegaMenuOnClick()},toggleMegaMenuOnClick:function(){$(".nav-link").click(function(e){var t=$(this);e.preventDefault(),t.closest(".nav-item").siblings().find(".nav-link").removeClass("active"),t.closest(".nav-item").siblings().find(".mega-menu").removeClass("shown"),t.toggleClass("active"),t.next().toggleClass("shown")}),$(".mega-menu").mouseenter(function(){clearTimeout($(this).data("timeoutId"))}).mouseleave(function(){var e=$(this),t=setTimeout(function(){1!==e.parent().find(".active:hover").length&&(e.prev().removeClass("active"),e.removeClass("shown"))},500);e.data("timeoutId",t)})}}}(jQuery),function(e){function t(t,r){var p=this;p.$container=t,p.searchInput=null,p.init=function(t){p.settings=e.extend({},c,t),p.privateSettings=e.extend({},u,t),p.render(),p.searchInput=p.$container.find(p.privateSettings.elSearchInput),p.searchInput.attr("id",p.$container.attr("id")+"-input"),p.searchBtn=p.$container.find(p.privateSettings.elSearchBtn),p.loadStylesheets(),p.loadJavaScripts(),p.loadParameters(),p.searchInput.keypress(p.onKeypress),p.searchBtn.click(p.searchRedirect)},p.loadParameters=function(){p.privateSettings.autocompleteURL+="&count="+p.settings.count},p.createAutocompletePlugin=function(){p.searchInput.data("create-autocomplete")||p.searchInput.attr("autocomplete","off"),p.searchAutocomplete=new e.hmsautocomplete(p.searchInput,{url:p.privateSettings.autocompleteURL,onComplete:p.onComplete,templateType:"table"}),p.searchAutocomplete.create()},p.render=function(){s=s.replace("{PH}",p.settings.placeholder),s=s.replace("{BT}",p.settings.buttonText),s=s.replace("{AE}",p.settings.autoEnter),p.$container.append(s)},p.onKeypress=function(e){e&&e.currentTarget&&13==e.keyCode&&p.searchRedirect()},p.onComplete=function(t,s,i){if(i=i||!1,s.docs&&s.docs.length>0){var r=a;r=r.replace("{ID}",p.searchInput.attr("id"));var c=e(r),l=c.find("tbody");i&&(l.append(e(o)),p.searchInput.focus());for(var u=0;u<s.docs.length;++u){var d=e(n);d.attr("data-value",s.docs[u].match);d.find(".js-rmx-autocomplete-link").html(s.docs[u].match),l.append(d)}t.render(c)}},p.searchRedirect=function(){var t=p.searchInput.val();e.ajax({url:p.privateSettings.seourlinfo,type:"get",contentType:"application/json; charset=utf-8",dataType:"jsonp",data:{search:t},success:function(t){if(t&&1==t.Success)if(null!=t.SEOUrls&&t.SEOUrls.length>1){for(var s=[],a=0;a<t.SEOUrls.length;++a){var n=e(t.SEOUrls[a]);if(n){var o=n.html();s.push({match:o})}}p.$container.find(".js-autocomplete-question").show(),p.onComplete(p.searchAutocomplete,{docs:s},!0)}else{var i=l+t.SEOUrl;if(p.settings._blank){var r=window.open(i,"_blank");r?r.focus():window.location.href=i}else window.location.href=i}}})},p.loadStylesheets=function(){if(!i){var t=e("<link/>",{rel:"stylesheet",type:"text/css",href:p.privateSettings.stylesheetspluginUrl});t.appendTo("head"),t=e("<link/>",{rel:"stylesheet",type:"text/css",href:p.privateSettings.stylesheetsUrl}),t.appendTo("head"),i=!0}},p.loadJavaScripts=function(){e.ajax({url:p.privateSettings.pluginUrl,dataType:"script",success:function(){p.createAutocompletePlugin()}})},p.init(r)}var s='<div class="js-autocomplete-container js-autocomplete rmx-widget-search"><div class="rmx-widget-field"><input class="js-rmx-search-input rmx-widget-input" type="text" name="search" data-outo-enter-event="{AE}" placeholder="{PH}" /><div class="js-autocomplete-position"></div></div><div class="rmx-widget-submit"><button class="js-rmx-search-btn rmx-widget-button" type="submit" name="dosearch"><span class="hide-mobile rmx-widget-btntext">{BT}</span><span class="show-mobile rmx-widget-icon"></span>',a='<div id="js-autocomplete-{ID}" class="js-autocomplete autocomplete rmx-widget-autocomplete"><table cellspacing="0" cellpadding="0" width="100%" class="autocomplete-list"><tbody></tbody></div>',n='<tr class="autocomplete-item autocomplete-item__rmx-widget"><td class="autocomplete-suggestion"><span class="js-rmx-autocomplete-link autocomplete-link" href="javascript:void(0)"></span></td><td class="autocomplete-count"></td>',o='<tr><td><span class="js-autocomplete-question autocomplete-question__rmx-widget">Do you mean?</span></td></tr>',i=!1,r="remaxseach",c={_blank:!0,count:10,autoEnter:!0,buttonText:"Let's Go!",placeholder:"City and State, Address or Zip Code"},l="http://remax.com",u={elSearchInput:".js-rmx-search-input",elSearchBtn:".js-rmx-search-btn",remaxHost:l,pluginUrl:l+"/resources_resp/js/app/ui-modules/searchwidget/ui/jquery.hmsautocomplete.js",stylesheetspluginUrl:l+"/resources_resp/js/app/ui-modules/searchwidget/ui/jquery-hmsautocomplete.css",stylesheetsUrl:l+"/resources_resp/js/app/ui-modules/searchwidget/rmx-styles.css",autocompleteURL:l+"/api/autosuggestionsjsonp/?",seourlinfo:l+"/api/seourlinfojsonp/?"};e.fn[r]=function(s){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new t(e(this),s))})}}(jQuery);